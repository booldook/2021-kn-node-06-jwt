<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>토큰테스트</title>
</head>
<body>
	<button onclick="getToken()">토큰발행</button>
	<script src="./axios.min.js"></script>
	<script>
		async function getToken() {
			try {
				let userid = 'booldook2'
				let appkey = '823ac5d4-0bad-4c8f-b5eb-144b1119642b'
				let r = await axios.post('http://127.0.0.1:3000/sign', { userid, appkey })
				let token = r.data.token;
				let headers = { authorization: token }
				let { data } = await axios.get('http://127.0.0.1:3000/data', { headers })
				console.log(data)
			}
			catch(err) {
				console.log(err)
			}
			
		}
	</script>
</body>
</html>